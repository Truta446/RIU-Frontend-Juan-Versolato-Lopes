<section class="form">
  <nz-row class="m-b-1-2">
    <nz-col [nzSpan]="24" class="d-flex">
      <span nz-icon nzType="arrow-left" class="pointer-cursor" routerLink="/heroes"></span>
      <h2 class="title">{{ hero?.id ? ('form.editTitle' | translate) : ('form.createTitle' | translate) }}</h2>
    </nz-col>
  </nz-row>

  <nz-row>
    <nz-col [nzSpan]="24" class="d-flex content-center">
      <nz-card>
        <form nz-form [formGroup]="form" (ngSubmit)="submitForm()" nzLayout="vertical">
          <nz-row class="m-b-1">
            <nz-col [nzSpan]="24">
              <nz-form-item>
                <nz-form-label nzFor="name" nzRequired>{{ 'form.name' | translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{ 'form.required' | translate }}" nzHasFeedback>
                  <nz-input-group nzPrefixIcon="dingtalk">
                    <input
                      id="name"
                      type="text"
                      nz-input
                      appUppercaseInput
                      formControlName="name"
                      placeholder="{{ 'form.namePlaceholder' | translate }}"
                    />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </nz-col>
          </nz-row>

          <nz-row class="m-b-1">
            <nz-col [nzSpan]="24">
              <nz-form-item>
                <nz-form-label nzFor="superPower" nzRequired>{{ 'form.superPower' | translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{ 'form.required' | translate }}">
                  <nz-select
                    id="superPower"
                    [nzMaxMultipleCount]="3"
                    nzMode="multiple"
                    nzAllowClear
                    nzPlaceHolder="{{ 'form.superpowerPlaceholder' | translate }}"
                    formControlName="superPower"
                    [nzShowArrow]="true"
                  >
                    @for (item of SUPER_POWERS; track item) {
                      <nz-option [nzLabel]="item" [nzValue]="item"></nz-option>
                    }
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </nz-col>
          </nz-row>

          <nz-row class="m-b-1">
            <nz-col [nzSpan]="24">
              <nz-form-item>
                <nz-form-label nzFor="description">{{ 'form.description' | translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{ 'form.descriptionError' | translate }}">
                  <nz-input-group>
                    <nz-textarea-count [nzMaxCharacterCount]="512">
                      <textarea
                        id="description"
                        rows="4"
                        nz-input
                        formControlName="description"
                        placeholder="{{ 'form.descriptionPlaceholder' | translate }}"
                      ></textarea>
                    </nz-textarea-count>
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </nz-col>
          </nz-row>

          <nz-row>
            <nz-col [nzSpan]="24" class="end-flex">
              <button nz-button type="button" routerLink="/heroes">{{ 'form.cancel' | translate }}</button>
              <app-button type="primary" [loading]="loading" [disabled]="loading" class="m-l-1">{{
                'form.save' | translate
              }}</app-button>
            </nz-col>
          </nz-row>
        </form>
      </nz-card>
    </nz-col>
  </nz-row>
</section>
